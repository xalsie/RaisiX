<?php include_once("../includes/inc.php");defined('v1Secureraisix')or header('Location: /');include_once('../assets/animegif/GIFEncoder.class.php');header('Content-type: image/gif');ini_set('log_errors','Off');ini_set('display_errors','Off');ini_set('error_reporting', E_ALL );$captcha=substr(str_shuffle('0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'),2,7);$_SESSION["captcha"]=strtolower($captcha);$x=230;$y=90;$z=0;$space=15;$interval=30;$letext=5;$j=10;$space=15;$a=rand(-30,30);$b=rand($y/2,90);$listOfFonts=glob("../assets/fonts/Electric Shocker.ttf");function generateRandomFont(){if($directory=opendir('../assets/fonts')){$i=0;while(false!==($fonts=readdir($directory))){if($fonts!="."&&$fonts!=".."){$table[$i]=$fonts;$i++;}}closedir($directory);}$alea=rand(0,$i-1);return "/assets/fonts/".$table[$alea];}for($i=0;$i<=(strlen($captcha)-1);$i++){$letext=($letext+$j);$image=imagecreate($x,$y);$text_color=imagecolorallocate($image,200,200,200);$white=imagecolorallocate($image,255,255,255);$black=imagecolorallocate($image,0,0,0);$_rand=rand(16,24);for($j=0;$j<=$_rand;$j++){imageline($image,rand($z,$x),rand($z,$y),rand($z,$x),rand($z,$y),imagecolorallocate($image,rand(100,120),rand(100,120),rand(100,120)));}for($j=0;$j<=$_rand;$j++){imageline($image,rand($z,$x),rand($z,$y),rand($z,$x),rand($z,$y),$black);}$space=15;for($j=0;$j<=(strlen($captcha)-1);$j++){$fontName[0]=__DIR__."/".$listOfFonts[array_rand($listOfFonts)];imagettftext($image,30,$a,$space,$b,$black,$fontName[0],substr($captcha,$j,1));$space+=$interval;}ob_start();imagegif($image);$frames[]=ob_get_contents();$framed[]=100;ob_end_clean();}$gif=new GIFEncoder($frames,$framed,0,2,0,0,0,'bin');echo $gif->GetAnimation();